<!DOCTYPE html>
<html>
<head>
    <title>Live Location Tracking</title>
    <script>
        let watchId;

        function startTracking() {
            if ("geolocation" in navigator) {
                watchId = navigator.geolocation.watchPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        document.getElementById("location").textContent = `Latitude: ${latitude}, Longitude: ${longitude}`;
                        // Send data to server
                        // fetch('/save-location', {
                        //     method: 'POST',
                        //     headers: { 'Content-Type': 'application/json' },
                        //     body: JSON.stringify({ latitude, longitude }),
                        // });
                    },
                    (error) => {
                        console.error("Error fetching location:", error.message);
                    },
                    { enableHighAccuracy: true }
                );
            } else {
                alert("Geolocation is not supported by your browser.");
            }
        }

        function stopTracking() {
            if (watchId) {
                navigator.geolocation.clearWatch(watchId);
                watchId = null;
                document.getElementById("location").textContent = "Tracking stopped.";
            }
        }
    </script>
</head>
<body>
    <h1>Live Location Tracking</h1>
    <button onclick="startTracking()">Start Tracking</button>
    <button onclick="stopTracking()">Stop Tracking</button>
    <p id="location">Location data will appear here...</p>
</body>
</html>
